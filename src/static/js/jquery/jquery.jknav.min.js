/*
 jknav
 @name      jquery.jknav.js
 @author    Yu-Jie Lin http://lmgtfy.com/?q=livibetter
 @version   0.1
 @date      05-24-2010
 @copyright (c) 2010 Yu-Jie Lin <livibetter@gmail.com>
 @license   BSD License
 @homepage
 @example
*/
(function(a){function h(e,b){var c=a.jknav.index[b.name];if(c==null){var f=a("body").scrollTop();a.each(a.jknav.items[b.name],function(d,g){var i=a(g).offset().top;if(f>=i)c=d});if(c==null)c=e>0?0:a.jknav.items[b.name].length-1;else if(e>0&&++c>=a.jknav.items[b.name].length)c=0;else if(e<0&&f==a(a.jknav.items[b.name][c]).offset().top&&--c<0)c=a.jknav.items[b.name].length-1}else{c+=e;if(c>=a.jknav.items[b.name].length)c=0;if(c<0)c=a.jknav.items[b.name].length-1}return a.jknav.index[b.name]=c}function j(e,
b){var c=String.fromCharCode(e.keyCode).toLowerCase();console.log(c,b.name);if(c==b.up.toLowerCase()||c==b.down.toLowerCase()){if(b.reevaluate)a.jknav.index[b.name]=null;var f=h(c==b.down.toLowerCase()?1:-1,b);c=a(a.jknav.items[b.name][f][0]);a("body").animate({scrollLeft:c.offset().left,scrollTop:c.offset().top},b.speed,b.easing,function(){var d=a.jknav.items[b.name][f][1];d&&d(a.jknav.items[b.name][f][0])})}}a.fn.jknav=function(e,b){if(b==null)b="default";if(a.jknav.items[b]==null)a.jknav.items[b]=
[];return this.each(function(){a.jknav.items[b].push([this,e]);a.jknav.items[b].sort(function(c,f){var d=a(c[0]).offset().top,g=a(f[0]).offset().top;if(d<g)return-1;if(d>g)return 1;if(d==g){d=a(c[0]).offset().left;g=a(f[0]).offset().left;if(d<g)return-1;if(d>g)return 1;return 0}})})};a.jknav={index:{},items:{},default_options:{up:"k",down:"j",name:"default",easing:"swing",speed:"normal",reevaluate:false},init:function(e){var b=a.extend(a.extend({},a.jknav.default_options),e);a.jknav.index[b.name]=
null;a("body").keyup(function(c){j(c,b)})}}})(jQuery);
